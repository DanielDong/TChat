

<!DOCTYPE html>
<html>
<head>
	<title>T-Chat Index</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="@routes.Assets.at("bootstrap/css/bootstrap.css")">
</head>

<body>
	

	<div class="container">
		<!-- The navigation bar-->
		<div class="navbar navbar-default navbar-fixed-top">
            <div class="container">

            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">T-Chat</a>
            </div>

            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                    <li><a href="#">Item1</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Contact</a></li>
                  </ul>
            </div>
            </div>
        </div>

        <!-- The marketing area-->
		<div class="jumbotron">
    		<font size="20"><b>T-Chat</b></font> the easiest way of chat ever!
    		<p>Simply add your friends' email addresses to the following box and create a tempoary chat room.</p>
 		</div>
        <!-- The email input area-->
 		<center>
    			<div class="">
    				<form class="navbar-form">
    						<input id="chatItem" type="text" style="height:32px;" class="input-append" size="40" placeholder="Email address" autofocus>
    						<button id="addBtn" class="btn btn-middle btn-success">Add</button>
    						<div id="chatGroup" style="width: 350px;">
    							<ul id="chatList" class="list-group">
                                    
    							</ul>
                                <button id="confirmBtn" type="submit" class="btn-success btn btn-middle" style="float:right;display:none;">Create Chat Room</button>
    						</div>
    				</form>
    			</div>
    		</center>
	</div>
	

	<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
	<script src="@routes.Assets.at("bootstrap/js/bootstrap.js")"></script>

	<script type="text/javascript">

            // Global variable
            var numOfChatPeople = 0;
			$("#addBtn").click(function(){
				var newEmail=$("#chatItem").val();
                if(newEmail != ''){
                    
                    // Increase the number of potential chat buddy by 1.
                    numOfChatPeople = numOfChatPeople + 1;
                    // Prepend a li element in the ul parent container.
				    $("#chatList").prepend("<li id='li" + numOfChatPeople + "' class='list-group-item'>" + newEmail + "</li>");
                    // Attach click event handler for each dynamic li element.
                    $("#li" + numOfChatPeople).on("click", function(){
                        $(this).remove();
                        numOfChatPeople --;
                        if(numOfChatPeople == 0){
                            $("#confirmBtn").hide();
                        }
                    });

                    if(numOfChatPeople > 0)
                        $("#confirmBtn:hidden").show();

                    $("#chatItem").val('');
                    $("#chatItem").focus();
                }else{
                    alert("Please type in a valid email.");
                    $("#chatItem").focus();
                }
                // Prevent page from refreshing which results in DOM to re-construct(dynamic addition would be lost)
                return false;
			});	
	</script>
</body>
</html>